<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>My test page</title>
    <script src="webgazer.js" type="text/javascript" ></script>
  </head>
  <body>
    My test
	<button id="pauseButton">Pause WebGazer</button>
	
    <script>
        webgazer.setGazeListener(function(data, elapsedTime) {
            if (data == null) {
                return;
            }
            var xprediction = data.x; //these x coordinates are relative to the viewport
            var yprediction = data.y; //these y coordinates are relative to the viewport
            console.log(elapsedTime); //elapsed time is based on time since begin was called
        }).begin();

        setInterval(function() {
            webgazer.getCurrentPrediction().then(prediction => {
	            if (prediction) {
	                var x = prediction.x;
	                var y = prediction.y;
	                console.log(`Current Prediction - X: ${x}, Y: ${y}`);
	            }
		});
		
        }, 100); // 100 milliseconds interval

	document.getElementById('pauseButton').addEventListener('click',function(){
          var webgazerObject = webgazer.pause();
          console.log('webGazer puased:', webgazerObject)

          var intervalId = setInterval(function() {
            webgazerObject.getCurrentPrediction().then(p => {
              if (p){
              var x = p.x;
              var y = p.y;
              console.log(`New Prediction - X: ${x}, Y: ${y}`);
            }
            });
          
          })
        });
        
    </script>
  </body>
</html>
